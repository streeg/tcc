\section{Introdução}

A criptografia é uma disciplina essencial da segurança da informação, fundamental para proteger sistemas digitais e dados sensíveis de ameaças cibernéticas \cite{what_is_cryptography}. Com a crescente complexidade das aplicações e a variedade de bibliotecas e frameworks disponíveis, o desenvolvimento de ferramentas automatizadas para detectar falhas e vulnerabilidades nas interfaces de programação de aplicações (APIs) criptográficas tornou-se crucial \cite{api_misuses_zhang}. No entanto, muitos desenvolvedores enfrentam dificuldades significativas ao utilizar essas APIs devido à sua complexidade e documentação inadequada \cite{nadi_icse_2016}.

O estudo de Nadi et al. \cite{nadi_icse_2016} destacou que os desenvolvedores frequentemente recorrem a fontes como StackOverflow para resolver problemas relacionados à criptografia, pois as APIs não são bem documentadas e frequentemente são complexas demais para o uso direto. A pesquisa também indicou que muitos exemplos disponíveis online contêm erros, levando os desenvolvedores a implementar soluções inadequadas. Nadi e seus colegas realizaram uma investigação empírica que incluiu a análise de 100 posts no StackOverflow, 100 repositórios no GitHub e respostas de 48 desenvolvedores a uma pesquisa. Eles descobriram que, enquanto os desenvolvedores se sentem confiantes na seleção dos conceitos de criptografia corretos, eles enfrentam dificuldades significativas ao usar as APIs de criptografia do Java devido à sua complexidade e ao baixo nível de abstração oferecido \cite{nadi_icse_2016}.

Para mitigar essas dificuldades, foram desenvolvidas várias ferramentas de criptografia. A linguagem CrySL, por exemplo, permite a definição precisa de regras para o uso seguro de APIs criptográficas em código Java \cite{CogniCrypt}, estabelecendo padrões rigorosos para a implementação de métodos de criptografia seguros. Ferramentas como CogniCrypt e CryptoGuard ainda apresentam limitações em sua precisão e não identificam a origem dos alertas, sejam eles de bibliotecas nativas ou externas. Atualmente, um estudo está em desenvolvimento para investigar mais a fundo as percepções dos desenvolvedores sobre essas limitações, bem como as dificuldades enfrentadas ao lidar com vulnerabilidades em APIs criptográficas.

O presente estudo realiza uma análise qualitativa abrangente da detecção de vulnerabilidades em APIs criptográficas, utilizando as ferramentas CogniCrypt \cite{CogniCrypt} e CryptoGuard \cite{CryptoGuard}, integradas com os resultados do LibScout, uma ferramenta desenvolvida para o mapeamento de bibliotecas de um aplicativo \cite{LibScout}. Esta abordagem permitiu não apenas a detecção de potenciais vulnerabilidades, mas também a identificação de correspondências associadas a bibliotecas externas.

Durante este estudo, encontramos a complexidade inerente à análise de código ofuscado, o que ressaltou a importância de considerar uma variedade de contextos de implementação ao avaliar a eficácia das ferramentas de detecção de vulnerabilidades \cite{api_tpl_zhang}. Observou-se também que as ferramentas CogniCrypt e CryptoGuard, apesar de sua capacidade de detectar possíveis vulnerabilidades, não identificam se a origem dos alertas advém de bibliotecas nativas ou externas. 
Para superar esse desafio, utilizamos o estudo "Automated Third-Party Library Detection for Android Applications: Are We There Yet?" \cite{api_tpl_zhang}, propondo a integração dos resultados do LibScout ao contexto do CryptoGuard e CogniCrypt. Esta abordagem permitiu a detecção de correspondências associadas a bibliotecas externas, resultando na criação de uma flag adicional, "external\_library", para sinalizar a presença de uma biblioteca externa quando uma correspondência era identificada.

 Enfrentamos desafios ao usar o LibScout, como limitações na definição de clusters com diferentes graus de granularidade e a atualização do conjunto de dados, que pode afetar a precisão das correspondências. 
 
 Ao integrar as ferramentas será possível fornecer recomendações diretamente aos desenvolvedores das bibliotecas, permitindo uma intervenção mais direta e eficaz na resolução de vulnerabilidades para contribuir para um ecossistema digital mais resiliente e protegido.

\section{Objetivos}

O objetivo geral deste estudo é adaptar as ferramentas de análise estática para identificar se os \textit{warnings} de \textit{crypto API missuses} são provenientes do código de origem da aplicação ou de bibliotecas externas. Para alcançar este objetivo, diversas etapas foram delineadas:

\begin{itemize}
    \item \textbf{Revisão da literatura}: Identificar métodos e abordagens existentes para a detecção de vulnerabilidades em bibliotecas externas.
    \item \textbf{Comparação de ferramentas}: Avaliar a eficácia das ferramentas CogniCrypt e CryptoGuard na detecção de vulnerabilidades em APIs criptográficas.
    \item \textbf{Integração dos resultados à saída}: Incorporar os resultados obtidos do LibScout ao contexto do CogniCrypt e CryptoGuard.
    \item \textbf{Estudo empírico}: Conduzir uma análise empírica para estimar a quantidade e origem dos warnings detectados.
\end{itemize}

A razão desse estudo surgiu do trabalho em desenvolvimento do aluno de doutorado na UnB, Luis H. V. Amaral, que analisando percepção dos desenvolvedores sobre as vulnerabilidades apontadas pelas ferramentas Cognicrypt e Cryptoguard, relataram que muitos dos warnings não eram de código que eles teriam desenvolvido.  Nesse contexto, surge o estudo desenvolvido nesse trabalho a fim de incluir a identificação das origens dos alertas. Dessa forma possibilitamos ações direcionadas e específicas para consertar a vulnerabilidade.

\section{Justificativa}

A crescente complexidade das aplicações Java, aliada à importância crítica da segurança da informação, torna imperativo o desenvolvimento de técnicas e ferramentas que auxiliem os desenvolvedores na identificação e correção de potenciais vulnerabilidades em APIs criptográficas. À medida que as aplicações se tornam mais sofisticadas e interconectadas, a superfície de ataque aumenta, expondo dados sensíveis a ameaças cibernéticas cada vez mais avançadas. Diversos estudos demonstraram que o uso inadequado dessas APIs é uma das principais fontes de vulnerabilidades em software, resultando em falhas de segurança que podem ser exploradas por atacantes \cite{api_misuses_zhang, nadi_icse_2016}.

A segurança das APIs criptográficas é particularmente crucial, pois elas são frequentemente utilizadas para proteger dados confidenciais e comunicações seguras. No entanto, devido à complexidade inerente dessas APIs e à documentação muitas vezes inadequada, os desenvolvedores enfrentam desafios significativos para usá-las corretamente \cite{nadi_icse_2016}. O estudo de Nadi et al. destacou que a complexidade das APIs e a falta de abstração adequada dificultam o uso correto por parte dos desenvolvedores, levando a implementações inseguras \cite{nadi_icse_2016}.

Além disso, os desenvolvedores não estão cientes se os \textit{warnings} de  \textit{crypto api missuses} são provenientes de código que eles mesmos tenham escritous ou de códigos de bibliotecas externas. Para casos em que os \textit{warnings} são de bibliotecas externas, os desenvolvedores podem não dar prioridade a esse problema, o que pode comprometer a segurança da aplicação.

Diante desse cenário, a presente pesquisa se propõe a aprimorar a detecção de vulnerabilidades em APIs criptográficas, proporcionando um melhor entendimento sobre a origem das vulnerabilidades. A integração dos resultados do LibScout às ferramentas CryptoGuard e CogniCrypt representa um avanço significativo, pois não apenas identifica potenciais vulnerabilidades, mas também localiza a origem desses alertas, permitindo uma intervenção mais precisa e efetiva por parte dos desenvolvedores.
