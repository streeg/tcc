\section{Introdução}

A criptografia é uma disciplina essencial da segurança da informação, fundamental para proteger sistemas digitais e dados sensíveis de ameaças cibernéticas \cite{what_is_cryptography}. Com a crescente complexidade das aplicações e a variedade de bibliotecas e frameworks disponíveis, o desenvolvimento de ferramentas automatizadas para detectar falhas e vulnerabilidades nas interfaces de programação de aplicações (APIs) criptográficas tornou-se crucial \cite{api_misuses_zhang}. No entanto, muitos desenvolvedores enfrentam dificuldades significativas ao utilizar essas APIs devido à sua complexidade e documentação inadequada \cite{nadi_icse_2016}.

O estudo de Nadi et al. \cite{nadi_icse_2016} destacou que os desenvolvedores frequentemente recorrem a fontes como StackOverflow para resolver problemas relacionados à criptografia, pois as APIs não são bem documentadas e frequentemente são complexas demais para o uso direto. A pesquisa também indicou que muitos exemplos disponíveis online contêm erros, levando os desenvolvedores a implementar soluções inadequadas. Nadi e seus colegas realizaram uma investigação empírica que incluiu a análise de 100 posts no StackOverflow, 100 repositórios no GitHub e respostas de 48 desenvolvedores a uma pesquisa. Eles descobriram que, enquanto os desenvolvedores se sentem confiantes na seleção dos conceitos de criptografia corretos, eles enfrentam dificuldades significativas ao usar as APIs de criptografia do Java devido à sua complexidade e ao baixo nível de abstração oferecido \cite{nadi_icse_2016}.

Para mitigar essas dificuldades, foram desenvolvidas várias ferramentas de criptografia. A linguagem CrySL, por exemplo, permite a definição precisa de regras para o uso seguro de APIs criptográficas em código Java \cite{CogniCrypt}, estabelecendo padrões rigorosos para a implementação de métodos de criptografia seguros. Ferramentas como CogniCrypt e CryptoGuard ainda apresentam limitações em sua precisão e não identificam a origem dos alertas, sejam eles de bibliotecas nativas ou externas \cite{perception_developers}. Neste contexto, o presente estudo realiza uma análise qualitativa abrangente da detecção de vulnerabilidades em APIs criptográficas, utilizando as ferramentas CogniCrypt \cite{CogniCrypt} e CryptoGuard \cite{CryptoGuard}, integradas com os resultados do LibScout, uma ferramenta desenvolvida para o mapeamento de bibliotecas de um aplicativo \cite{LibScout}. Esta abordagem permitiu não apenas a detecção de potenciais vulnerabilidades, mas também a identificação precisa de correspondências associadas a bibliotecas externas.

Durante este estudo, encontramos a complexidade inerente à análise de código ofuscado, o que ressaltou a importância de considerar uma variedade de contextos de implementação ao avaliar a eficácia das ferramentas de detecção de vulnerabilidades \cite{api_tpl_zhang}. Adicionalmente, observou-se que as ferramentas CogniCrypt e CryptoGuard, apesar de sua capacidade de detectar possíveis vulnerabilidades, não identificam a origem dos alertas \cite{perception_developers}. Essa limitação pode resultar em falsos positivos ou negligenciar alertas críticos provenientes de bibliotecas essenciais. Para superar esse desafio, utilizamos o estudo "Automated Third-Party Library Detection for Android Applications: Are We There Yet?" \cite{api_tpl_zhang}, propondo a integração dos resultados do LibScout ao contexto do CryptoGuard e CogniCrypt. Esta abordagem permitiu a detecção precisa de correspondências associadas a bibliotecas externas, resultando na criação de uma flag adicional, "external\_library", para sinalizar a presença de uma biblioteca externa quando uma correspondência era identificada.

Também mapeamos as bibliotecas encontradas nos resultados do LibScout \cite{LibScout}, identificando tanto as bibliotecas externas quanto aquelas que poderiam ser externas, resultando na flag "possible\_external". No entanto, enfrentamos desafios ao usar o LibScout, como limitações na definição de clusters com diferentes graus de granularidade e a atualização do conjunto de dados, que pode afetar a precisão das correspondências. A inclusão desses recursos aumentou a precisão da detecção de falhas e abriu novas perspectivas. Agora podemos fornecer recomendações diretamente aos desenvolvedores das bibliotecas, permitindo uma intervenção mais direta e eficaz na resolução de vulnerabilidades. Este trabalho representa um avanço significativo na promoção da segurança de aplicações Java, visando proteger sistemas vitais e dados sensíveis de ameaças cibernéticas. Para contribuir para um ecossistema digital mais resiliente e protegido, as práticas de segurança na implementação de APIs criptográficas serão fortalecidas por meio desta abordagem qualitativa e da integração de ferramentas de detecção.

\section{Objetivos}

O objetivo geral deste estudo é adaptar as ferramentas de análise estática para identificar se os warnings são provenientes do código de origem da aplicação ou de bibliotecas externas. Para alcançar este objetivo, diversas etapas foram delineadas:

\begin{itemize}
    \item \textbf{Revisão da literatura}: Identificar métodos e abordagens existentes para a detecção de vulnerabilidades em bibliotecas externas.
    \item \textbf{Comparação de ferramentas}: Avaliar a eficácia das ferramentas CogniCrypt e CryptoGuard na detecção de vulnerabilidades em APIs criptográficas.
    \item \textbf{Integração dos resultados à saída}: Incorporar os resultados obtidos do LibScout ao contexto do CogniCrypt e CryptoGuard.
    \item \textbf{Estudo empírico}: Conduzir uma análise empírica para estimar a quantidade e origem dos warnings detectados.
\end{itemize}

Inicialmente, o objetivo do estudo era fornecer aos desenvolvedores uma forma de identificar vulnerabilidades em APIs criptográficas. No entanto, percebeu-se que a detecção de vulnerabilidades utilizando apenas CogniCrypt e CryptoGuard não era suficiente para identificar a origem dos alertas. Assim, o objetivo foi ampliado para incluir a identificação precisa da origem dos alertas, o que é crucial para os desenvolvedores, pois possibilita ações direcionadas e específicas para corrigir vulnerabilidades, economizando tempo e recursos valiosos no processo de desenvolvimento e garantindo a segurança efetiva das aplicações.

\section{Justificativa}

A crescente complexidade das aplicações Java, aliada à importância crítica da segurança da informação, torna imperativo o desenvolvimento de técnicas e ferramentas que auxiliem os desenvolvedores na identificação e correção de potenciais vulnerabilidades em APIs criptográficas. À medida que as aplicações se tornam mais sofisticadas e interconectadas, a superfície de ataque aumenta, expondo dados sensíveis a ameaças cibernéticas cada vez mais avançadas. Diversos estudos demonstraram que o uso inadequado dessas APIs é uma das principais fontes de vulnerabilidades em software, resultando em falhas de segurança que podem ser exploradas por atacantes \cite{api_misuses_zhang, nadi_icse_2016}.

A segurança das APIs criptográficas é particularmente crucial, pois elas são frequentemente utilizadas para proteger dados confidenciais e comunicações seguras. No entanto, devido à complexidade inerente dessas APIs e à documentação muitas vezes inadequada, os desenvolvedores enfrentam desafios significativos para usá-las corretamente \cite{nadi_icse_2016}. O estudo de Nadi et al. destacou que a complexidade das APIs e a falta de abstração adequada dificultam o uso correto por parte dos desenvolvedores, levando a implementações inseguras \cite{nadi_icse_2016}.

Além disso, estudos conduzidos com desenvolvedores de Android revelaram que muitos não estavam cientes se os warnings eram provenientes de código nativo ou de bibliotecas externas. Em muitos casos, os warnings eram de bibliotecas externas, e os desenvolvedores não tinham interesse em ajustar esses problemas, o que pode comprometer a segurança da aplicação como um todo \cite{perception_developers}.

Diante desse cenário, a presente pesquisa se propõe a aprimorar a detecção de vulnerabilidades em APIs criptográficas, proporcionando um melhor entendimento sobre a origem das vulnerabilidades. A integração dos resultados do LibScout às ferramentas CryptoGuard e CogniCrypt representa um avanço significativo, pois não apenas identifica potenciais vulnerabilidades, mas também localiza a origem desses alertas, permitindo uma intervenção mais precisa e efetiva por parte dos desenvolvedores.

Portanto, este estudo se justifica pela necessidade de fortalecer a segurança das aplicações Java em um contexto onde as ameaças cibernéticas estão em constante evolução. A contribuição da abordagem proposta, que inclui a identificação da origem dos alertas de vulnerabilidade, oferece uma ferramenta poderosa para os desenvolvedores, permitindo uma resposta mais rápida e precisa a problemas de segurança.
